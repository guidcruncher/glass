@use '../config' as *;
@use '../mixins' as *;
@use '../_glass-theme.mixin' as *;

$calendar-size: 300px;
$day-size: 34px;

.glass-calendar {
  width: $calendar-size;
  font-family: $font-family-primary;
  user-select: none;
  padding: 5px;
  box-sizing: border-box;
  color: theme-prop(light, text-color);

  .calendar-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 5px 0;
    margin-bottom: 10px;
  }

  .nav-button {
    background: none;
    border: none;
    cursor: pointer;
    font-size: 1.2rem;
    color: theme-prop(light, accent-color);
    opacity: 0.8;

    &:hover {
      opacity: 1;
    }
  }

  .weekdays,
  .days-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    text-align: center;
  }

  .weekday-label {
    font-weight: 500;
    font-size: 0.85rem;
    padding: 8px 0;
    opacity: 0.7;
  }

  .day {
    line-height: $day-size;
    width: $day-size;
    height: $day-size;
    margin: 2px auto;
    border-radius: 50%;
    cursor: pointer;
    transition: all 0.2s ease;
    font-size: 0.9rem;

    &.is-not-current-month {
      opacity: 0.4;
      cursor: default;
    }

    &:not(.is-not-current-month) {
      &:hover {
        background: rgba(theme-prop(light, accent-color), 0.1);
      }
    }

    &.is-today {
      border: 1px solid theme-prop(light, accent-color);
      background: rgba(theme-prop(light, accent-color), 0.05);
    }

    &.is-selected {
      background: theme-prop(light, accent-color);
      color: white;
      font-weight: bold;
      border: none;
    }
  }
}

.dark-mode {
  .glass-calendar {
    color: theme-prop(dark, text-color);

    .nav-button {
      color: theme-prop(dark, accent-color);
    }

    .day {
      &:not(.is-not-current-month) {
        &:hover {
          background: rgba(theme-prop(dark, accent-color), 0.15);
        }
      }

      &.is-today {
        border: 1px solid theme-prop(dark, accent-color);
        background: rgba(theme-prop(dark, accent-color), 0.1);
      }

      &.is-selected {
        background: theme-prop(dark, accent-color);
        color: black;
      }
    }
  }
}
