// theme.scss

// Import individual theme partials
@use './themes/light' as *; // Adjust path as needed
@use './themes/dark' as *; // Adjust path as needed

// üé® Combined Themes Map
// This is the variable your application logic should reference for themes
$themes: (
  light: $theme-light-map,
  dark: $theme-dark-map,
);

$colors: (
  light: $system-colors-light,
  dark: $system-colors-dark,
);

// --- GLOBAL VARIABLES (Non-Theme Specific) ---

// üìù Typography
$font-family-primary:
  'Inter',
  -apple-system,
  BlinkMacSystemFont,
  'Segoe UI',
  Oxygen,
  Ubuntu,
  Cantarell,
  'Open Sans',
  'Helvetica Neue',
  sans-serif;

// üñºÔ∏è Glassmorphism Variables
// Breakpoints for blur adjustment
$glass-blur-mobile: 8px;
$glass-blur-desktop: 15px;

// Global/Fixed Glass Properties
$glass-border-radius: 18px;
$glass-blur: 10px; // A common, intermediate value
$glass-tabstrip-height: 50px;

// Layout Dimensions
$glass-appbar-height: 60px;
$glass-footer-height: 50px;
$glass-sidebar-width: 250px;
$glass-sidebar-collapsed-width: 10px;
$glass-footer-padding-y: 1rem;
$glass-footer-padding-x: 2rem;

// Fixed Glass/Accent Colors (Could be moved to theme files if variation is needed)
$glass-color-light: rgba(255, 255, 255, 0.2);
$glass-border-light: 1px solid rgba(255, 255, 255, 0.3);
$glass-color-dark: rgba(0, 0, 0, 0.2);
$glass-border-dark: 1px solid rgba(0, 0, 0, 0.3);
$ui-accent-color-light: #007aff;
$ui-accent-color-dark: #64b5f6;

// Progress Bar Variables
$glass-progress-bar-height: 24px;
$glass-progress-bar-border-radius: 12px;

// System/Traffic Light Colors
$color-traffic-close: #ff605c;
$color-traffic-minimize: #ffbd44;
$color-traffic-zoom: #00ca4e;

// Default Accent Colors (Used if not pulled from theme map)
$theme-primary: #007bff; // Blue
$theme-secondary: #6c757d; // Gray

// üìê Breakpoints
$breakpoint-tablet: 768px;
$breakpoint-desktop: 1024px;

// Helper mixin to apply theme variables as CSS Custom Properties (CSS variables)
@mixin apply-theme($theme-name) {
  $theme-map: map-get($themes, $theme-name);
  $colors-map: map-get($colors, $theme-name);

  @each $key, $value in $colors-map {
    // Output a CSS custom property (variable) for each theme property
    --#{$key}: #{$value};
  }

  @each $key, $value in $theme-map {
    // Output a CSS custom property (variable) for each theme property
    --#{$key}: #{$value};
  }
}

// Apply the default (light) theme to the root element
:root {
  @include apply-theme(light);
}

// Apply the dark theme when the body/container has the 'theme-dark' class
.dark-mode {
  @include apply-theme(dark);
}

// Optional: Apply dark theme based on OS preference
// @media (prefers-color-scheme: dark) {
//   :root:not(.theme-light) {
//     @include apply-theme(dark);
//   }
// }
